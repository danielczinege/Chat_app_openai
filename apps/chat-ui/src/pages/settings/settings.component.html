<div class="overflow-y-auto flex-1 w-full flex flex-col p-1 border-2 border-primary rounded-lg">
    <form [formGroup]="messageForm"
          class="flex flex-col items-center p-2 w-full">
      <div class="w-2/3 flex flex-col justify-center items-center">
        <textarea type="text" formControlName="system" class="p-2 rounded-2xl m-1 w-full min-h-10 max-h-36"></textarea>
        <button type="submit"
                (click)="applyCustomInstructions()">Set custom instructions</button>
      </div>
  
      <div class="w-2/3 flex flex-row justify-center items-center">
        @if (messageForm.controls.temperature.valid) {
          <input type="number" formControlName="temperature" class="p-2 rounded-2xl m-1 w-1/2 min-h-10 max-h-36"/>
        } @else {
          <input type="number" formControlName="temperature" class="p-2 rounded-2xl m-1 w-1/2 min-h-10 max-h-36 border-2 border-red-600"/>
        }
        <button type="submit"
                (click)="applyTemperature()">Set temperature</button>
      </div>

      @if (messageForm.controls.temperature.invalid) {
        <div>
          <small>Temperature must be between 0 and 2.</small>
        </div>
      }

      <div class="w-2/3 flex flex-row justify-center items-center">
        @if (messageForm.controls.max_tokens.valid) {
          <input type="number" formControlName="max_tokens" class="p-2 rounded-2xl m-1 w-1/2 min-h-10 max-h-36"/>
        } @else {
          <input type="number" formControlName="max_tokens" class="p-2 rounded-2xl m-1 w-1/2 min-h-10 max-h-36 border-2 border-red-600"/>
        }
        <button type="submit"
                (click)="applyMaxTokens()">Set max tokens</button>
      </div>
      @if (messageForm.controls.max_tokens.invalid) {
        <div>
          <small>Max tokens must be an integer between 1 and 4095.</small>
        </div>
      }
    </form>
  </div>
